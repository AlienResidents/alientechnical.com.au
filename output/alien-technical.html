<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Alien Technical</title>
        <link rel="stylesheet" href="https://alientechnical.com.au/theme/css/main.css" />
        <link href="https://alientechnical.com.au/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Alien Technical Consulting Atom Feed" />
        <meta name="description" content="Stuff #!/bin/bash declare result retval server declare -a servers mapfile -t servers < <(grep -Ev '^#|^$'..." />
</head>

<body id="index" class="home">
<a href="http://github.com/alienresidents/">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="https://alientechnical.com.au/">Alien Technical Consulting</a></h1>
                <nav><ul>
                    <li><a href="/categories.html">Categories</a></li>
                    <li><a href="/tags.html">Tags</a></li>
                    <li><a href="/archives.html">Archives</a></li>
                    <li class="active"><a href="https://alientechnical.com.au/category/blog.html">Blog</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://alientechnical.com.au/alien-technical.html" rel="bookmark"
           title="Permalink to Alien Technical">Alien Technical</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2010-12-03T10:20:00+11:00">
                Published: 2010/12/03
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://alientechnical.com.au/author/chrispy.html">Chrispy</a>
        </address>
<p>In <a href="https://alientechnical.com.au/category/blog.html">Blog</a>.</p>

</footer><!-- /.post-info -->      <p>Stuff</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nb">declare</span><span class="w"> </span>result<span class="w"> </span>retval<span class="w"> </span>server
<span class="nb">declare</span><span class="w"> </span>-a<span class="w"> </span>servers

mapfile<span class="w"> </span>-t<span class="w"> </span>servers<span class="w"> </span>&lt;<span class="w"> </span>&lt;<span class="o">(</span>grep<span class="w"> </span>-Ev<span class="w"> </span><span class="s1">&#39;^#|^$&#39;</span><span class="w">  </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">&quot;</span>/git/github/alienresidents/dotfiles/tings.txt<span class="o">)</span>

<span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;Starting apt upgrades...&quot;</span>
<span class="k">for</span><span class="w"> </span>server<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">servers</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">do</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;================================== Upgrading \&quot;</span><span class="si">${</span><span class="nv">server</span><span class="si">}</span><span class="s2">\&quot; ==================================&quot;</span>
<span class="w">  </span>ping<span class="w"> </span>-c<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">server</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">&amp;</span>&gt;<span class="w"> </span>/dev/null
<span class="w">  </span><span class="nv">retval</span><span class="o">=</span><span class="nv">$?</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="si">${</span><span class="nv">retval</span><span class="si">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nv">result</span><span class="o">=</span><span class="k">$(</span>ssh<span class="w"> </span>root@<span class="s2">&quot;</span><span class="si">${</span><span class="nv">server</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;TERM=vt100 apt --allow-releaseinfo-change update &amp;&amp; apt -o Dpkg::Options::=\&quot;--force-confold\&quot; -y --purge --autoremove upgrade&quot;</span><span class="w"> </span>&lt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="k">)</span>
<span class="w">    </span><span class="nv">retval</span><span class="o">=</span><span class="nv">$?</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="si">${</span><span class="nv">retval</span><span class="si">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">      </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;Upgrade successful (</span><span class="si">${</span><span class="nv">server</span><span class="si">}</span><span class="s2">)&quot;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">      </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;Updated Failed (</span><span class="si">${</span><span class="nv">server</span><span class="si">}</span><span class="s2">):&quot;</span>
<span class="w">      </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">result</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="w">  </span><span class="k">fi</span>
<span class="k">done</span>
<span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;Finished apt upgrades.&quot;</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>sensors
nouveau-pci-0200
Adapter: PCI adapter
fan1:         931 RPM
temp1:        +38.0°C  (high = +95.0°C, hyst =  +3.0°C)
                       (crit = +105.0°C, hyst =  +5.0°C)
                       (emerg = +135.0°C, hyst =  +5.0°C)

corsairpsu-hid-3-b
Adapter: HID adapter
v_in:        230.00 V  
v_out +12v:   12.06 V  (crit min =  +8.41 V, crit max = +15.59 V)
v_out +5v:     5.01 V  (crit min =  +3.50 V, crit max =  +6.50 V)
v_out +3.3v:   3.31 V  (crit min =  +2.31 V, crit max =  +4.30 V)
psu fan:        0 RPM
vrm temp:     +41.2°C  (crit = +70.0°C)
case temp:    +30.5°C  (crit = +70.0°C)
power total:  86.00 W  
power +12v:   68.00 W  
power +5v:    15.00 W  
power +3.3v:   4.00 W  
curr +12v:     5.25 A  (crit max = +85.00 A)
curr +5v:      3.06 A  (crit max = +40.00 A)
curr +3.3v:    1.25 A  (crit max = +40.00 A)

acpitz-acpi-0
Adapter: ACPI interface
temp1:        +27.8°C  (crit = +119.0°C)
temp2:        +29.8°C  (crit = +119.0°C)

coretemp-isa-0000
Adapter: ISA adapter
Package id 0:  +37.0°C  (high = +84.0°C, crit = +100.0°C)
Core 0:        +34.0°C  (high = +84.0°C, crit = +100.0°C)
Core 1:        +37.0°C  (high = +84.0°C, crit = +100.0°C)
Core 2:        +37.0°C  (high = +84.0°C, crit = +100.0°C)
Core 3:        +35.0°C  (high = +84.0°C, crit = +100.0°C)
</code></pre></div>

<div class="highlight"><pre><span></span><code> linnie  /home/cdd/testing/pelican/content/images  kube.l.cdd.net.au  default    
 cdd   ls -l
total 68
-rw-rw-r-- 1 cdd cdd 67646 Jan  8 17:48 favicon.ico
 linnie  /home/cdd/testing/pelican/content/images  kube.l.cdd.net.au  default    
 cdd  
</code></pre></div>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://docs.google.com/document/d/1mylgxMiPIjgMZYflaXA6Eo-cUP3waT8u-9QwAhQNnTM">Resume</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://alientechnical.com.au/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="http://github.com/alienresidents/">github</a></li>
                            <li><a href="https://www.linkedin.com/in/alienresidents/">linkedin</a></li>
                            <li><a href="mailto:chrispy@alientechnical.com.au">envelope</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>